<template>
  <div ref="xrayhx" class="card">
    <div ref="xheader" class="card-header">
      <h4 style="display: inline-block; margin-bottom: 0px;"><i class="fa fa-list mr-2"></i>Xray Priors</h4>
      <i class="fa fa-close fa-2x float-right"  click.delegate="cancel()"></i></a>
    </div>
    <div class="card-body p-0" style="min-height: 355px; max-height: 355px; overflow-y: auto;">
      <template repeat.for="r of rows">
        <div class="${r.altRow ? 'alert-secondary':''}">
          <!-- <div class="d-flex flex-wrap p-2 border-bottom" click.delegate="toggleThumbnails(r)">
            <div class="pr-2"><i class="fa fa-plus-square" click.delegate="pxChecked(s)"></i></div>
            <div class="pr-2"><i class="fa fa-angle-down" aria-hidden="true"></i></div>
            <div class="pr-2 font-weight-bold">${r.date}</div>
            <div class="pr-2">${r.side} ${r.part}</div>
            <div class="pr-2 text-muted text-truncate" style="max-width: 60%;">${r.description}</div>
          </div> -->
          <div class="d-flex flex-wrap p-2 border-bottom">
            <div class="pr-2"><i class="fa fa-plus-square" click.delegate="xrayChecked(r)"></i></div>
            <div class="pr-2 font-weight-bold">${r.date}</div>
            <div class="pr-2">${r.side} ${r.part}</div>
            <div class="pr-2 text-muted text-truncate" style="max-width: 60%;">${r.description}</div>
            <div class="pr-2 ml-auto" click.delegate="toggleThumbnails(r)"><i class="fa fa-angle-down" aria-hidden="true"></i></div>
          </div>
          <div if.bind="r.displayThumbnails" class="card-deck" style="padding-left: 25px; padding-bottom: 10px; padding-right: 10px;">
            <div class="card text-white text-left bg-dark mini" style="flex: none; margin-right: 10px; margin-top: 10px; margin-left: 0;">
              <div class="card-img-overlay" click.delegate="openXray(r.data.StudyID, r.data.XrayID)">
                <h5 class="card-subtitle text-truncate" style="margin-bottom: 0">${r.description}</h5>
              </div>
            </div>
            <!--FINDING GOES HERE-->
            <br>
            <p class="text-muted">${r.data.XRayFinding}</p>
          </div>
        </div>
      </template>
    </div>
  </div>
</template>
