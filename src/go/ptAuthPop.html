<template>
  <div ref="ptauthpop" class="card">
    <div class="card-header">
      <h4 style="display: inline-block; margin-bottom: 0px;"><i class="fa fa-list mr-2"></i>Authorization</h4>
      <i class="fa fa-close fa-2x float-right"  click.delegate="cancel()"></i></a>
    </div>
    <div class="card-body">

      <div class="form-row">
        <div class="form-group col-md-6">
          <label>Authorization Date</label>
          <div class="input-group ml-auto">
            <abp-datetime-picker style="width: 120px;" icon-base="font-awesome" with-date-icon="false" element.bind="datepicker" value.bind="authdate" options.bind="{ format: 'MM/DD/YYYY' }"></abp-datetime-picker>
            <div class="input-group-append">
              <button class="btn btn-outline-secondary" type="button" click.delegate="openCalendar()"> <i class="fa fa-calendar"></i></button>
            </div>
          </div>
        </div>
        <div class="form-group col-md-6">
          <label>Type</label>
          <select value.bind="ptAuth.Type" class="form-control">
            <option model.bind="null">Choose...</option>
            <option repeat.for="t of authTypes" model.bind="t" >${t}</option>
          </select>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group col-md-6">
          <label>Bodypart</label>
          <select value.bind="ptAuth.BodyPart" class="form-control">
            <option model.bind="null">Choose...</option>
            <option repeat.for="b of bodyparts" model.bind="b" >${b}</option>
          </select>
        </div>
        <div class="form-group col-md-6">
          <label>Status</label>
          <div class="form-control ${ptAuth.Status=='ACT' ? 'text-success' : 'text-danger'} font-weight-bold" style="border: none;">${statusText}</div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group col-md-6">
          <label>Days</label>
          <input type="text" class="form-control" value.bind="ptAuth.AuthDays">
        </div>
        <div class="form-group col-md-6">
          <label>Visits</label>
          <input type="text" class="form-control" value.bind="ptAuth.AuthVisits">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group col-md-6">
          <label>Auth#</label>
          <input type="text" class="form-control" value.bind="ptAuth.AuthNumber">
        </div>
        <div class="form-group col-md-6">
          <label>Claim ID</label>
          <input type="text" class="form-control" value.bind="ptAuth.ClaimID">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group col-md-12">
          <label>Comments</label>
          <textarea type="text" class="form-control" value.bind="ptAuth.Comments"></textarea>
        </div>
      </div>

    </div>
    <div class="card-footer">
      <button type="button" class="btn btn-primary float-right" click.delegate="close()">OK</button>
      <button if.bind="statusText =='ACTIVE'" type="button" class="btn btn-danger" click.delegate="delete()">DELETE</button>
    </div>
  </div>
</template>
